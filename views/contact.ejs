<main class="main">

  <!-- Page Title -->
  <div class="page-title">
    <div class="heading">
      <div class="container">
        <div class="row d-flex justify-content-center text-center">
          <div class="col-lg-8">
            <br>
            <h1 class="heading-title">Contact Us</h1>
            <p>If you have any questions regarding the rules, registration, or event details, feel free to reach out to
              us. Weâ€™re here to assist you.</p>
          </div>
        </div>
      </div>
    </div>
  </div><!-- End Page Title -->

  <!-- Contact Section -->
  <section id="contact" class="contact section">

    <div class="container">
      <div class="contact-wrapper">
        <div class="contact-form-panel">

          <div class="form-container">
            <h3>Send Us a Message</h3>

            <form action="/contact" method="POST" class="contact-form">
              <div class="form-floating mb-3">
                <input type="text" class="form-control" id="name" name="name" placeholder="Enter Your Full Name"
                  required="">
                <label for="name">Enter Your Full Name</label>
              </div>

              <div class="form-floating mb-3">
                <input type="text" class="form-control" id="college_name" name="college_name"
                  placeholder="Enter Your College Name" required="">
                <label for="college_name">Enter Your College Name</label>
              </div>

              <div class="form-floating mb-3">
                <input type="text" class="form-control" id="department" name="department"
                  placeholder="Enter Your Department" required="">
                <label for="department">Enter Your Department</label>
              </div>

              <div class="form-floating mb-3">
                <input type="tel" class="form-control" id="phone_number" name="phone_number"
                  placeholder="Enter Your Phone Number" required="">
                <label for="phone_number">Enter Your Phone Number</label>
              </div>

              <div class="form-floating mb-3">
                <input type="text" class="form-control" id="subjectInput" name="subject" placeholder="Subject"
                  required="">
                <label for="subjectInput">Subject</label>
              </div>

              <div class="form-floating mb-3">
                <textarea class="form-control" id="messageInput" name="message" rows="5" placeholder="Your Message"
                  style="height: 150px" required=""></textarea>
                <label for="messageInput">Your Message</label>
              </div>

              <div class="d-grid">
                <button type="submit" class="btn-submit">Send Message <i class="bi bi-send-fill ms-2"></i></button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section><!-- /Contact Section -->


  <!-- Success Popup Card -->
  <div id="contactSuccessPopup" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,85,85,0.85); display:none; z-index:9999;
  justify-content:center; align-items:center;">
    <div id="contactPopupCard" style="background:#fff; border-radius:20px; padding:40px 30px; text-align:center; width:350px;
    box-shadow:0 10px 30px rgba(0,0,0,0.25); transform:scale(0.8); opacity:0; transition:all 0.4s ease;">
      <div style="font-size:60px; color:#28a745; margin-bottom:15px;">
        <i class="bi bi-check-circle-fill"></i>
      </div>
      <h4 style="font-weight:600; color:#005555; margin-bottom:10px;">Message Sent Successfully!</h4>
      <p style="color:#444; font-size:15px;">Thank you for contacting us. Your message has been received successfully.
      </p>
      <button onclick="closeContactPopup()"
        style="background-color:#005555; color:#fff; border:none; border-radius:8px; padding:8px 20px; margin-top:15px; cursor:pointer;">
        OK
      </button>
    </div>
  </div>

  <script>
    function showContactPopup() {
      const overlay = document.getElementById("contactSuccessPopup");
      const card = document.getElementById("contactPopupCard");
      overlay.style.display = "flex";
      setTimeout(() => {
        card.style.transform = "scale(1)";
        card.style.opacity = "1";
      }, 50);
    }

    function closeContactPopup() {
      const overlay = document.getElementById("contactSuccessPopup");
      const card = document.getElementById("contactPopupCard");
      card.style.transform = "scale(0.8)";
      card.style.opacity = "0";
      setTimeout(() => overlay.style.display = "none", 300);
    }

    document.addEventListener("DOMContentLoaded", () => {
      const contactForm = document.querySelector(".contact-form");
      if (!contactForm) return;

      contactForm.addEventListener("submit", async (e) => {
        e.preventDefault();

        const formData = new FormData(contactForm);
        const data = Object.fromEntries(formData.entries());

        try {
          const response = await fetch("/contact", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data),
          });

          const result = await response.json();

          if (result.success) {
            showContactPopup();
            contactForm.reset();
          } else {
            alert("Failed to send message. Please try again.");
          }
        } catch (err) {
          console.error("Error:", err);
          alert("Server error. Please try again later.");
        }
      });
    });
  </script>



</main>